<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>SpotUy ‚Äî Eventos en Mapa</title>

  <!-- Estilos -->
  <link rel="stylesheet" href="css/styles.css">

  <!-- Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
  <script defer src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <!-- App -->
  <script defer src="/js/app.js"></script>
</head>
<body>
  <!-- Topbar -->
  <header class="topbar">
    <div class="wrap">
      <a href="/" class="brand">SpotUy</a>
      <div class="auth"><button id="btnLogin" class="btn-ghost">Iniciar sesi√≥n</button></div>
    </div>
  </header>

  <!-- Toolbar -->
  <nav class="toolbar">
    <div class="wrap toolbar__wrap">
      <select id="selDiaMapa" class="tool-control tool-day" aria-label="D√≠a en mapa">
        <option value="hoy" selected>Mapa: Hoy</option>
        <option value="maniana">Mapa: Ma√±ana</option>
      </select>

      <select id="selDepto" class="tool-control">
        <option value="todos">Todos los departamentos</option>
      </select>

      <input id="txtBuscar" class="tool-control tool-search" placeholder="Filtrar lista por ubicaci√≥n o evento">

      <div id="chipsCats" class="tool-chips"></div>

      <button id="btnCancelados" class="tool-btn">Lista: incluir cancelados (OFF)</button>
      <button id="btnNuevo" class="tool-btn tool-btn--primary">+ Nuevo evento</button>
    </div>
  </nav>

  <!-- Layout -->
  <main class="layout">
    <aside class="panel">
      <section class="bloque">
        <div class="bloque__titulo">Leyenda</div>
        <div class="legend">
          <span><span class="dot dot--encuentro-comun"></span>Encuentro com√∫n</span>
          <span><span class="dot dot--encuentro-benefico"></span>Encuentro ben√©fico</span>
          <span><span class="dot dot--encuentro-legal"></span>Evento legal/grande</span>
          <span><span class="dot dot--foto"></span>Foto (barridos)</span>
        </div>
        <p class="nota">El mapa muestra solo el evento del d√≠a seleccionado por ubicaci√≥n (hoy o ma√±ana).
          La lista muestra pr√≥ximos (hoy y futuro) por ubicaci√≥n.</p>
      </section>

      <div id="listaUbicaciones"></div>
    </aside>

    <!-- üëá Como antes: el MAPA es este <section id="mapa" class="mapa"> -->
    <section class="mapa" id="mapa"></section>
  </main>

  <!-- Tip flotante -->
  <div class="tip" id="pickTip" hidden>Click en el mapa para elegir la ubicaci√≥n del evento.</div>

  <!-- Modal Nuevo evento -->
  <div class="modal" id="modalNuevo" aria-hidden="true">
    <div class="modal__backdrop" id="modalBackdrop"></div>
    <div class="modal__card" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <h3 class="modal__title" id="modalTitle">Nuevo evento</h3>

      <form id="formNuevo" class="form">
        <div class="form__row">
          <label class="label">Nombre del lugar *</label>
          <input class="input" id="lugarNombre" required />
        </div>

        <div class="form__row form__two">
          <div>
            <label class="label">Departamento *</label>
            <select class="select" id="lugarDepto" required>
              <option value="" disabled selected>Seleccion√°</option>
            </select>
          </div>
          <div>
            <label class="label">Barrio / Zona</label>
            <input class="input" id="lugarBarrio" placeholder="Opcional" />
          </div>
        </div>

        <div class="form__row form__two">
          <div>
            <label class="label">Categor√≠a *</label>
            <select class="select" id="evCat" required>
              <option value="encuentro">Encuentro</option>
              <option value="foto">Foto (barridos)</option>
            </select>
          </div>
          <div id="rowSubcat">
            <label class="label">Subcategor√≠a *</label>
            <select class="select" id="evSubcat">
              <option value="comun">Encuentro com√∫n</option>
              <option value="benefico">Encuentro ben√©fico</option>
              <option value="legal">Evento legal/grande</option>
            </select>
          </div>
        </div>

        <div class="form__row form__two">
          <div>
            <label class="label">T√≠tulo del evento *</label>
            <input class="input" id="evTitulo" required />
          </div>
          <div>
            <label class="label">Fecha y hora *</label>
            <div class="form__two">
              <input class="input" type="date" id="evFecha" required />
              <input class="input" type="time" id="evHora" required />
            </div>
          </div>
        </div>

        <div class="form__row">
          <label class="label">Enlace (IG/Web)</label>
          <input class="input" type="url" id="evLink" placeholder="https://..." />
        </div>

        <div class="form__row">
          <label class="label">Descripci√≥n</label>
          <textarea class="input" id="evDesc" rows="3" placeholder="Opcional"></textarea>
        </div>

        <div class="form__row form__two">
          <label class="check"><input type="checkbox" id="evDestacado"> <span>Destacado</span></label>
          <label class="check"><input type="checkbox" id="evCancelado"> <span>Cancelado</span></label>
        </div>

        <div class="form__row form__two">
          <div>
            <label class="label">Latitud</label>
            <input class="input" id="evLat" readonly />
          </div>
          <div>
            <label class="label">Longitud</label>
            <input class="input" id="evLng" readonly />
          </div>
        </div>

        <div class="form__actions">
          <button type="button" class="btn" id="btnCancelar">Cancelar</button>
          <button type="submit" class="btn btn--primary">Guardar evento</button>
        </div>
      </form>
    </div>
  </div>
</body>
</html>
